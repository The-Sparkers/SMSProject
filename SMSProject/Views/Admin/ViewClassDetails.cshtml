@model SMSProject.ViewModels.AdminViewModels.ViewClassDetailsViewModel

@{
    ViewBag.Title = Model.Name + " Class Details";
}

<h2>Class Details</h2>
<br />
<div class="agile_info_shadow">
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.RollNo)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RollNo)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Incharge)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Incharge)<p>@Html.ActionLink("Change", "ChangeClassIncharge", new { id = Model.Id }, new { @class = "btn btn-warning" })</p>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Strength)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Strength)
        </dd>

    </dl>
</div>
<br />
<div class="">
    <div class="col-md-6 agile_info_shadow">
        <div class="col-md-4">
            <h4>Subjects</h4>
        </div>
        <div class="col-md-offset-6 col-md-2">
            @Html.ActionLink("Add", "AddSubject", new { id = Model.Id }, new { @class = "btn btn-primary" })
        </div>
        <br />
        <div class="table table-responsive">
            <table class="table table-hover">
                <tr>
                    <th>#</th>
                    <th>@Html.DisplayNameFor(model => model.Subjects[0].Name)</th>
                    <th></th>
                </tr>
                @{ int i = 0;}
                @foreach (var item in Model.Subjects)
            {
                    <tr>
                        <td>@(++i)</td>
                        <td>@item.Name</td>
                        <td>
                            @Html.ActionLink("Remove", "RemoveSubject", new { id = item.Id }, new { @class = "btn btn-danger veSub" })
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
    <div class="col-md-6 agile_info_shadow">
        <div class="col-md-4">
            <h4>Sections</h4>
        </div>
        <div class="col-md-offset-6 col-md-2">
            @Html.ActionLink("Add", "AddSection", new { id = Model.Id }, new { @class = "btn btn-primary" })
        </div>
        <br />
        <div class="table table-responsive">
            <table class="table table-hover">
                <tr>
                    <th>#</th>
                    <th>@Html.DisplayNameFor(model => model.Sections[0].Name)</th>
                    <th>@Html.DisplayNameFor(model => model.Sections[0].Strength)</th>
                    <th></th>
                </tr>
                @{ i = 0;}
                @foreach (var item in Model.Sections)
            {
                    <tr>
                        <td>@(++i)</td>
                        <td>@item.Name</td>
                        <td>@item.Strength</td>
                        <td>
                            @Html.ActionLink("View", "ViewSection", new { id = item.Id }, new { @class = "btn btn-danger" }) |
                            @Html.ActionLink("Remove", "RemoveSection", new { id = item.Id }, new { @class = "btn btn-success remSec" })
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
@section Scripts{
    @if (ViewBag.Error != null)
    {
        if ((bool)ViewBag.Error)
        {
            <script type="text/javascript">
                $(document).ready(window.alert("Record not saved."));
            </script>
        }
    }
    @if (ViewBag.Success != null)
    {
        if ((bool)ViewBag.Success)
        {
            <script type="text/javascript">
                $(document).ready(window.alert("Record has been saved successfully."));
            </script>
        }
    }
    <!--Script to get client side conformation-->
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $(".remSec").click(function () {
                return confirm("Only an empty Section of a class can be deleted.")
            });
            $(".veSub").click(function () {
                return confirm("Are you sure want to delete this subject? Deleting this subject can harm your class tests and examnation results.");
            });
        });
    </script>
}